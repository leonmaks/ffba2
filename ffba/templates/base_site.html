{% extends "base.html" %}
{% load i18n static %}

{# SITE_TITLE | page_title #}
{% block title %}
  {{ SITE_TITLE }} / {% block page_title %}Page Title{% endblock %}
{% endblock %}


{% block navbar %}
  {% if user.is_authenticated %}
    <nav class="navbar navbar-expand-lg navbar-light bg-light rounded">
      <a class="navbar-brand" href="{% url 'home' %}">{% trans "ELTA" %}</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTop" aria-controls="navbarTop" aria-expanded="false" aria-label={% trans "Toggle navigation" %}>
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarTop">
        <ul class="navbar-nav mr-auto">

          {% comment %}
          <li class="nav-item active">
            <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#">Disabled</a>
          </li>
          {% endcomment %}

          {# MENU Products #}
          {% if perms.prod %}
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="prod_dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{% trans "Products" %}</a>
              <div class="dropdown-menu" aria-labelledby="prod_dropdown">

                {% if perms.prod.product_list %}
                  <a class="dropdown-item" href="{% url 'prod:product-list' %}">{% trans "Products" %}</a>
                {% endif %}

                {% if perms.prod.product_type_list %}
                  <a class="dropdown-item" href="{% url 'prod:product-type-list' %}">{% trans "Product Types" %}</a>
                {% endif %}

              </div>
            </li>
          {% endif %}

          {# MENU AE #}
          {% if perms.ae %}
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="ae_dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{% trans "AE" %}</a>
              <div class="dropdown-menu" aria-labelledby="ae_dropdown">
                {% comment %} <a class="dropdown-item" href="#">Action</a> {% endcomment %}
                {% comment %} <a class="dropdown-item" href="#">Another action</a> {% endcomment %}
                {% if perms.ae.cash_record_list %}
                  <a class="dropdown-item" href="{% url 'ae:cash-record-list' %}">{% trans "Daily Cash" %}</a>
                {% endif %}
              </div>
            </li>
          {% endif %}
        </ul>

        <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="settingsTop" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                {% if user.first_name or user.last_name %}
                  {{user.first_name}} {{user.last_name}}
                {% else %}
                  {{ user.username }}
                {% endif %}
              </a>
              <div class="dropdown-menu dropdown-menu-right text-right" aria-labelledby="settingsTop">
                <a class="dropdown-item" href="#">{% trans "Password Change" %}</a>
                {% comment %} <a href="{% url 'password-change' %}">{% trans "Password Change" %}</a> {% endcomment %}
                {% comment %} <li role="separator" class="divider"></li> {% endcomment %}
                <a class="dropdown-item" href="{% url 'logout' %}">{% trans "Logout" %}</a>
                {% comment %} <li role="separator" class="divider"></li> {% endcomment %}
                <a class="dropdown-item" href="{% url 'about' %}">{% trans "About" %}</a>
                {% comment %} <li><a href="{% url 'about' %}">{% trans "About" %}</a></li> {% endcomment %}
              </div>
            </li>
          </ul>
        </div>
    </nav>
  {% endif %}
{% endblock %}


{% block body_content %}
  <div class="container">
    {% block page_content %}
    {% endblock %}
  </div>
{% endblock %}
